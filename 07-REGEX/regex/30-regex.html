<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>30-regex</title>
  </head>
  <body>
    <script>
      var str = "ğ’³";
      var reg1 = /^.$/g; // matches a *single UTF-16 code unit*, not a full Unicode c
      var reg2 = /^.{2}$/g; // note: 1 character uses 2 bytes. but "ğ’³" uses 4 bytes internally. we need 2 character for it.
      var reg3 = /^.$/gu; // The 'u' flag enables full Unicode mode, allowing dot (.) to match a full Unicode character (even surrogate pairs).
      console.log(str.match(reg1)); // null
      console.log(str.match(reg2)); // ['ğ’³']
      console.log(str.match(reg3)); // ['ğ’³']

      // \p unicode character class escape

      // 1. General_Category

      var str =
        "$æˆ‘çš„ç”µè¯å·ç PHONE: 12033322,ç½‘å€WEB:https://www.icodingedu.com,$ ";
      var reg1 = /\p{L}+/gu; //letter and chinese characters
      // more explicit forms:
      // var reg1 = /\p{General_Category=Letter}/gu; // General_Category = is not mandatory
      // var reg1 = /\pLetter}/gu;
      var reg2 = /\p{N}+/gu; // numbers
      var reg3 = /\p{P}+/gu; // punctuation
      var reg4 = /\p{Lu}+/gu; // uppercase
      var reg5 = /\p{Ll}+/gu; // lowercase
      var reg6 = /\p{Sc}/gu; // currency symbols

      console.log(str.match(reg1)); // ['æˆ‘çš„ç”µè¯å·ç ', 'ç½‘å€', 'https', 'www', 'icodingedu', 'com']
      console.log(str.match(reg2)); // ['12033322']
      console.log(str.match(reg3)); // [':', ',', ':', '://', '.', '.', ',']
      console.log(str.match(reg4)); // ['PHONE', 'WEB']
      console.log(str.match(reg5)); // ['https', 'www', 'icodingedu', 'com']
      console.log(str.match(reg6)); // ['$', '$']

      // 2. Script
      var str =
        "$æˆ‘çš„ç”µè¯å·ç PHONE: 12033322,ç½‘å€WEB:https://www.icodingedu.com,$ ";
      // More explicit forms:
      //   var reg = /\p{Script_Extensions=Han}+/gu;
      //   var reg = /\p{Script=Han}+/gu;
      var reg = /\p{sc=Han}+/gu;

      console.log(str.match(reg)); // ['æˆ‘çš„ç”µè¯å·ç ', 'ç½‘å€']
    </script>
  </body>
</html>
