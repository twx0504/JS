<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>01-Set - Create Set</title>
  </head>
  <body>
    <ul>
      <li>1</li>
      <li>2</li>
      <li>3</li>
    </ul>
    <script>
      // new Set()
      const set0 = new Set();
      console.log(set0); // Set(0) {size: 0}

      // new Set(iterable)
      const set1 = new Set([1, 2, 3]);
      console.log(set1); // Set(3) {1, 2, 3}
      //   const set2 = Set(); // Uncaught TypeError: Constructor Set requires 'new'
      const lis = document.querySelectorAll("ul > li");
      const set2 = new Set(lis);
      console.log(set2); // Set(3) {li, li, li}

      function fn() {
        const newSet = new Set(arguments);
        console.log(newSet);
      }

      fn(1, 2, 3, 4, 5, 6, 7, 8); // Set(8) {1, 2, 3, 4, 5, …}

      const obj = {
        a: 1,
        b: 2,
        arr: [3, 4, 5],
      };

      // Object is not an iterable!
      //   const set3 = new Set(obj); // Uncaught TypeError: object is not iterable (cannot read property Symbol(Symbol.iterator))

      // Add iterator to obj, obj becomes an iterable.
      obj[Symbol.iterator] = function* () {
        for (let key in this) {
          yield this[key];
        }
      };
      const set4 = new Set(obj);
      console.log(set4); // Set(3) {1, 2, Array(3)}
    </script>
  </body>
</html>
