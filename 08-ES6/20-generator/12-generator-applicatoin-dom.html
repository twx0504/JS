<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>12-Generator - Application 3: DOM</title>
  </head>
  <body>
    <div id="container">
      <ul>
        <li>
          <h3>Title</h3>
          <div class="box1">
            <img src="" alt="图片" />
            <p>Description.</p>
            <p><span>Price:</span><i>50</i></p>
          </div>
        </li>
      </ul>
      <div class="box2"></div>
    </div>

    <script>
      // Depth-first Traversal
      // div.container ul li h3 div.box1 img p p span i div.box2

      function* dfsDom(node) {
        yield node.tagName;
        // check if children exist
        if (node.children.length > 0) {
          for (let i = 0; i < node.children.length; i++) {
            yield* dfsDom(node.children[i]);
          }
        }
      }

      function* printDomDfs(node, n = 0) {
        yield "-".repeat(n) + node.tagName;
        // check if children exist
        if (node.children.length > 0) {
          n += 2; // // Increase indentation for child nodes for each level.

          for (let i = 0; i < node.children.length; i++) {
            yield* printDomDfs(node.children[i], n);
          }
        }
      }

      const node = document.getElementById("container");
      console.log(node);
      for (const el of dfsDom(node)) {
        console.log(el);
      }
      for (const el of printDomDfs(node)) {
        console.log(el);
      }
    </script>
  </body>
</html>
