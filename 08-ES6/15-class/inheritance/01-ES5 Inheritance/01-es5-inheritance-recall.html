<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>01-ES5 Inheritance Recall</title>
  </head>
  <body>
    <script>
      // Parent Class / Base Class
      function Person(name, age) {
        this.name = name;
        this.age = age;
      }

      Person.count = 0;

      Person.prototype.sayHello = function () {
        console.log(`Hello I am ${this.name} and I am ${this.age} years old.`);
      };

      function Student(name, age, school, sid) {
        // #1: Inherit Parent instance properties
        Person.call(this, name, age);
        this.school = school;
        this.sid = sid;
        Person.count++;
      }

      // #2: Inherit Parent Instance Method from the Parent prototype
      const prototype = Object.create(Person.prototype);
      prototype.constructor = Student;
      Student.prototype = prototype;

      const stu1 = new Student("twx", 25, "UM", "sid001");
      const stu2 = new Student("ljy", 24, "UM", "sid002");
      console.log(stu1);
      console.log(Person.count); // 2
      // Note: Parasitic Combination Inheritance is not perfect, the static property of Person is not inherited by Student.
      console.log(Student.count); // undefined.

      // #3
      // Wait, isn't __proto__ able to achieve the inheritance of the static property?
      // __proto__ is not the native JS feature, it is implemented by different vendor / browsers.
      // Not recommended using in the production. It can only be used during development.
      // Thus, ES5 is deemed not able to inherit the static property.
      Student.__proto__ = Person;
      console.log(Student.count); // 2
    </script>
  </body>
</html>
