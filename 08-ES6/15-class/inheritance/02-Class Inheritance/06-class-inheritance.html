<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      06-Class Inheritance - super #2 as an object in child instance method
    </title>
  </head>
  <body>
    <script>
      // super - use in child class.
      // two forms: function & object

      // scenarios:
      // #2: super as an object in child instance method.
      class A {
        // instance method on prototype.
        // similar to A.prototype.foo = function(){}

        foo() {
          console.log("foo");
          console.log(this); // this may refer to child instance (if foo is called using super.)
        }
      }

      A.prototype.count = 10;

      class B extends A {
        bar() {
          // super = A.prototype
          // instance method called using super, internal this refers to child instance.
          super.foo();
          //  almost like A.prototype.foo.call(this)
          console.log(super.count); // this is referring to the parent prototype count.

          // super here refers to the instance.
          // this will not change the count of parent prototype.
          super.count = 30;
          console.log(super.count); // this is still refer to the parent prototype count.

          // Note:
          // Accessing: super refers to A.prototype.
          // Writing: super refers to Child instance.
        }
      }

      const a = new A();
      a.foo();
      // foo
      // A {}
      const b = new B();
      console.log(b);
      b.bar();
      // foo
      // B {}
    </script>
  </body>
</html>
