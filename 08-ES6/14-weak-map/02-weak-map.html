<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>02-WeakMap</title>
  </head>
  <body>
    <script>
      // keys must be unique.
      // similar keys, the latter will override the previous.
      // keys must be objects / non-registered symbols.

      const obj1 = { a: 1 };
      const arr1 = [1, 2, 3];
      const arr2 = [1, 2, 3];
      const symbol = Symbol("symbol");
      const wm = new WeakMap([
        [obj1, "object"], // this will be overriden.
        [arr1, "array1"],
        [arr2, "array2"],
        [symbol, "symbol"],
        [obj1, "object 2"], // this will override the previous one.
        // [Symbol.for("test"), "registered symbol"], // Uncaught TypeError: Invalid value used as weak map key
      ]);

      // Note: the order is different each time.
      console.log(wm); // WeakMap {{â€¦} => 'object 2', Array(3) => 'array2', Array(3) => 'array1', Symbol(symbol) => 'symbol'}
    </script>
  </body>
</html>
