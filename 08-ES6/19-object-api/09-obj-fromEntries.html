<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>09-Object - Object.fromEntries</title>
  </head>
  <body>
    <script>
      // Object.fromEntries(iterable)
      // iterable must an entry object:
      // Each item in the iterable must be an array with 2 elements: [key, value]
      // [[k1, v1], [k2, v2], ...]
      const arr = [
        ["a", 1],
        ["b", 2],
        ["c", 3],
      ];

      const obj = Object.fromEntries(arr);
      console.log(obj); // {a: 1, b: 2, c: 3}

      const map = new Map([
        ["x", 10],
        ["y", 20],
      ]);
      const obj2 = Object.fromEntries(map);
      console.log(obj2); // {x: 10, y: 20}

      //   const arr2 = [1, 2, 3];
      //   console.log(Object.fromEntries(arr2)); // Uncaught TypeError: Iterator value 1 is not an entry object


      // Generator
      function* gen() {
        yield ["a", 1];
        yield ["b", 2];
        yield ["c", 3];
      }

      const obj3 = Object.fromEntries(gen());
      console.log(obj3); // {a: 1, b: 2, c: 3}

      const iter = gen();
      console.log(iter); // genÂ {<suspended>} - it is like an iterator object with next method.
      console.log(iter.next());
      console.log(iter.next());
      console.log(iter.next());
    </script>
  </body>
</html>
