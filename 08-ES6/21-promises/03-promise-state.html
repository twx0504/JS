<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>03-Promise - PromiseState</title>
  </head>
  <body>
    <script>
      // PromiseState
      // - pending - initial state.
      // - fulfilled - after calling resolve.
      // - rejected - after calling reject.
      //
      const promise1 = new Promise((resolve, reject) => {});
      console.log(promise1); // Promise {<pending>}

      const promise2 = new Promise((resolve, reject) => {
        resolve();
      });
      console.log(promise2); // Promise {<fulfilled>: undefined}

      const promise3 = new Promise((resolve, reject) => {
        reject(); // Uncaught (in promise) undefined
      });
      console.log(promise3); // Promise {<rejected>: undefined}

      // When a promise is said to be settled if it is either fulfilled or rejected, but not pending.
      // - further resolve / reject has no effect anymore.
      const promise4 = new Promise((resolve, reject) => {
        resolve();
        reject(); // Uncaught (in promise) undefined - you can call this, but the state is never changed.
      });
      console.log(promise4); // Promise {<fulfilled>: undefined}

      const promise5 = new Promise((resolve, reject) => {
        throw new Error("Failed."); // Uncaught (in promise) Error: Failed.
      });
      console.log(promise5); // Promise {<rejected>: Error: Failed.

        // The error reporting in the console looks like it is asynchrnous.
    </script>
  </body>
</html>
