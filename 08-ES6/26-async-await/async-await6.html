<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async Await 6: Different Forms of Async Functions</title>
  </head>
  <body>
    <script>
      // Function declaration
      async function foo() {}

      // Function expression
      const bar = async function () {};

      // Arrow function
      const baz = async () => {};

      // Object
      const obj = {
        foo: async function () {},
        bar: async () => {},
        // Short-hand
        async baz() {},
      };

      // Class
      class Person {
        // Instance method (prototype-level)
        async function() {}
        // Instance method (instance-level)
        baz = async () => {};
      }

      const person = new Person();
      console.log(person);

      const promise = new Promise((resolve, reject) => {
        resolve(1);
      });

      // Return value of async function is almost like it is wrapped in Promise.resolve()
      // - but the difference here is async function always returns a differnt reference, while Promise.resolve() returns the same reference.

      function f() {
        return Promise.resolve(promise);
      }

      async function g() {
        return promise;
      }

      async function h() {
        return Promise.resolve(promise); // Promise.resolve returns the same promise, but because now the promise is the return value of the async function, it will return a differnt reference.
      }

      console.log(promise === f()); // true
      console.log(promise === g()); // false
      console.log(promise === h()); // false
    </script>
  </body>
</html>
