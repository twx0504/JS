<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async Await 4: Error Handling</title>
  </head>
  <body>
    <script>
      async function foo() {
        // For sequential tasks (one task after another), we can use try...catch to group them.
        // If one of the tasks failed, the rest of the tasks are not executed, and handled by the catch block.
        try {
          // Sequential
          const a = await Promise.resolve("succeeded 1");
          console.log(a); // succedded 1
          const b = await Promise.reject(new Error("failed"));
          // The subsequent lines of code will not run.
          console.log(b);
          const c = await Promise.resolve("succeeded 2");
          console.log(c);
        } catch (err) {
          console.log(err); // Error: failed
        }

        
        console.log("I am executed as normal.");
      }
      foo();
    </script>
  </body>
</html>
