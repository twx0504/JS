<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>05-Array - fill</title>
  </head>
  <body>
    <script>
      // fill - it changes the original array.
      const arr = [1, 2, 3, 4];
      // fill(val)
      arr.fill(10);
      console.log(arr); // [10, 10, 10, 10]

      // fill(val, start)
      // note: index can be negative.
      // start < -arr.length or omitted, 0 is used.
      // start >= arr.length, nothing is filled.
      const arr2 = [2, 4, 5, 6, 7, 9];
      arr2.fill(100, 3);
      console.log(arr2); // [2, 4, 5, 100, 100, 100]

      // fill(val, start, end) - note: end index is not included.
      // note: index can be negative.
      // end < -arr.length, 0 is used
      // end > arr.length or omitted or undefined, arr.length is used
      // if end implies a position before start, nothing is filled.

      const arr3 = [1, 2, 3, 4, 5];
      arr3.fill(1000, -1, -4); // If end implies a position before start, nothing is filled.
      console.log(arr3); // [1, 2, 3, 4, 5] - not working
      arr3.fill(1000, -4, -1);
      console.log(arr3); // [1, 1000, 1000, 1000, 5]

      const arr4 = [].fill.call({ a: 1, length: 3 }, 8);
      console.log(arr4); // {0: 8, 1: 8, 2: 8, a: 1, length: 3}

      // Important: If the value to be filled is a reference data type, it is referenced by each slot of the array!
      // Meaning that it is shared!
      // Be aware of using this method to fill your array.
      const arr5 = [1, 2, 3];
      arr5.fill({});
      console.log(arr5); // [{}, {}, {}]
      arr5[0].a = 10;
      console.log(arr5); // // [{a:10}, {a:10}, {a:10}]

      // Important:
      // The following doesn't work because empty array has nothing to modify.
      // Make sure array has non-zero length.
      //   const arr5 = [];
      //   arr5.fill({});
      //   console.log(arr5); // []
    </script>
  </body>
</html>
