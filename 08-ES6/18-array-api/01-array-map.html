<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>01-Array</title>
  </head>
  <body>
    <script>
      // map(callback, thisArg)
      // map((ele, index, arr) =>{})
      // map(function (ele, index, arr){}, thisArgs)
      // unlike forEach, map creates a new array that contains the transformed element based on the implementation of the callback.

      const arr = [1, 2, 3];
      const newArr = arr.map((val) => val * 2);
      console.log(newArr); // [2, 4, 6]

      const newArr2 = arr.map((val) => Math.sqrt(val));
      console.log(newArr2); // [1, 1.4142135623730951, 1.7320508075688772]

      const arr2 = ["1", "2", "3"];

      // Note: parseInt map passes three arguments, but parseInt only accept two.
      // parseInt(string, radix)
      // map(function(ele, index, arr){})
      // since second arguments is passed into parseInt, it causes confusion.
      //   const newArr3 = arr2.map(parseInt);
      //   console.log(newArr3); // [1, NaN, NaN]

      // The correct way:
      const newArr3 = arr2.map((val) => parseInt(val));
      console.log(newArr3); // [1, 2, 3]

      // But for some methods / function that only need one argument, it may as well work fine.
      //   Number(val) - only receive one argument.
      const newArr4 = arr2.map(Number);
      console.log(newArr4); // [1, 2, 3]

      // Map each letter to its character code
      const str = "hello";
      const charCodes = Array.prototype.map.call(str, (val) => {
        return {
          [val]: val.charCodeAt(0),
        };
      });
      console.log(charCodes);

      // this - only works in non-arrow function!
      const test = ["a", "b", "c"];
      const obj = { a: 1, b: 2, c: 3 };
      arr.map(() => {
        console.log(this); // window - arrow function thisArg parameter doesn't work.
      }, obj);

      arr.map(function () {
        console.log(this); //  { a: 1, b: 2, c: 3 } - that obj
      }, obj);
    </script>
  </body>
</html>
