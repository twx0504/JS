<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>02-Expression: Arithmetic Expression</title>
  </head>
  <body>
    <script>
      /* #1ï¼š Operators */
      /* Addition */
      console.log(1 + 1); // 2
      /* Subtraction */
      console.log(1 - 1); // 0
      /* Multiplication */
      console.log(1 * 10); // 10
      /* Division */
      console.log(5 / 2); // 2.5
      /* Remainder */
      console.log(5 % 2); // 1
      console.log(3 % 4); // 3

      /* #2: Operator Precedence
        - () > multiplication/division/remaider > addition / subtraction
        - use () to increase precedence
      */
      console.log(1 + 5 / 2); // 3.5
      console.log((1 + 5) / 2); // 3

      console.log((((1 + 3) * 3) / (2 + 1)) % 3); // 12 / 3 % 3 => 4 % 3 => 1

      /* #3: Overloading + operator with addition / string concatenation.
        - when one or both sides of the + operator are strings, then it will perform string concatenation.
      */
      console.log(1 + 1);
      console.log(1 + undefined); // NaN
      console.log(1 + true); // 2
      console.log(1 + "1");
      console.log(1 + 3 / 4 + "00000"); // 1.75 + "00000" => "1.7500000"
      console.log(1 / 2 + "567" + 4 + 3); // 0.5 + "567" + 4 + 3 => "0.5567" + 4 + 3 => 0.55674"3

      /* #4: Implicit Type Conversion

        - internally call Number() function.

      */

      console.log(1 * "2", typeof (1 * "2")); // 2 'number'
      console.log(4 / "2", typeof (4 / "2")); // 2 'number'
      console.log(4 % "3", typeof (4 % "3")); // 1 'number'
      console.log(true + false + true, typeof (true + false + true)); // 2 'number'
      console.log(2 + null, typeof (2 + null)); // 2 'number'
      console.log(1 + undefined, typeof (1 + undefined)); // NaN 'number' -> 1 + undefined => NaN
      console.log(1 * "", typeof (1 * "")); // 0 'number' -> '' converts to number 0
      // Special case with + operator with eiter operand as a string -> it will perform string concatenation instead.
      console.log(1 + "222", typeof (1 + "222")); // '1222' 'string'

      /* #5: Explicit Type Conversion */
      // # 5.1: Fucntion like Number(), parseInt(), parseFloat()
      console.log(Number("123") + 10); // 133
      console.log(1 + Number(true)); // 2
      // # 5.2: Unary Operator + / -
      console.log(+"200", typeof +"200"); // 200 'number'
      console.log(+true, typeof +true); // 1 'number'
      console.log(-true, typeof -true); // -1 'number' - so it is better to use + to convert boolean to number.
      console.log(+"0b01110", typeof +"0b0110"); // 14 'number'
      console.log(+"0xff", typeof +"0xff"); // 255 'number'

      /* #6: Floating Point Precision Problem */
      var a = 0.1 + 0.2; // 0.30000000000000004
      console.log(a == 0.3); // false because 0.30000000000000004 == 0.3 is false

      /* toFixed() 
        - it rounds up at 5 
        - it returns value is string type.
      */
      var b = 0.1 + 0.2;
      console.log(b, b.toFixed(2)); // 0.30000000000000004 '0.30'
      console.log(3.0558, (3.0558).toFixed(2)); // 3.0558 '3.06'
    </script>
  </body>
</html>
