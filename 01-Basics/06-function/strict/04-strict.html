<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>04-Strict: this in function</title>
  </head>
  <body>
    <script>
      /* 
      
      In non-strict mode, this in function becomes an object.
      - when this is not specified or specified this as null or undefined, this becomes global object (e.g., window)
      - when explicitly specified this with primitive, it is the corresponding wrapper object of the primitive.

      */

      function fn() {
        console.log(this, typeof this);
      }
      fn(); // window 'object'
      fn.call(1); // Number{1} 'object'
      fn.call("a string"); // String {'a string'} 'object'
      fn.call(null); // window 'object'
      fn.call(undefined); // window 'object'
      fn.call(NaN); // Number{NaN} 'object'
      fn.call(""); // String{''} 'object'


      /* 
        In strict mode, this inside function is undefined.
        - when we explicitly specify the thisArg with primitives (string, number, boolean, null, undefined, ...), this becomes the corresponding thisArg provided.
      */
      function fn2() {
        "use strict";
        console.log(this, typeof this);
      }
      fn2(); // undefined undefined
      fn2.call(1); // 1 `number`
      fn2.call("a string"); // "a string" `string`
      fn2.call(null); // null 'object'
      fn2.call(undefined); // undefined 'undefined'
      fn2.call(NaN); // NaN 'number'
      fn2.call(""); // "" 'string'
    </script>
  </body>
</html>
