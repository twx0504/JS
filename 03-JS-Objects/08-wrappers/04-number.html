<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>04-Number</title>
  </head>
  <body>
    <script>
      // Safe: when the JS can represent the integer correctly, and to compare them correctly.

      /* MAX_SAFE_INTEGER */
      console.log(Number.MAX_SAFE_INTEGER);
      console.log(Math.pow(2, 53) - 1); // 2 ** 53 - 1
      console.log(Number.MAX_SAFE_INTEGER === Number.MAX_SAFE_INTEGER); // true
      console.log(Number.MAX_SAFE_INTEGER - 1 === Number.MAX_SAFE_INTEGER); // true
      console.log(Number.MAX_SAFE_INTEGER === Number.MAX_SAFE_INTEGER + 1); // true
      console.log(Number.MAX_SAFE_INTEGER + 1 === Number.MAX_SAFE_INTEGER + 2); // true ??? This is not true!

      /* MIN_SAFE_INTEGER */
      console.log(Number.MIN_SAFE_INTEGER);
      console.log(Number.MIN_SAFE_INTEGER - 1 === Number.MIN_SAFE_INTEGER - 2); // true ??? This is not true!

      /* MAX_VALUE */
      console.log(Number.MAX_VALUE);
      /* MIN_VALUE */
      console.log(Number.MIN_VALUE);

      /* toFixed */

      var n = 1.4448;
      console.log(n.toFixed(3)); // 1.445 - note: it will round when the place > 5.
      console.log(n.toFixed()); // 1 - default it will keep 0 places.
      console.log(typeof n.toFixed()); // string

      /* toString([radix]) where radix = base
        - override the Object.prototype.toString  
      */

      var n = 16;
      console.log(n.toString(), typeof n.toString()); // 16 string
      // new Number(n).toString()
      console.log(n.toString(2)); // 10000 - specify radix to convert to a string representation of number in a specific base.

      /* valueOf
        - override the Object.prototype.toString
        - return the primitive value of the Number object
        - usually, we dont use it explicitly, it is called by Js implicitly.
      */

      var num = new Number(1000);
      console.log(num.valueOf(), typeof num.valueOf()); // 1000
      console.log(num + 100 + 2); // 1102 - num.valueOf() + 100 + 2
      console.log(+num); // 1000 - this unary + operator can also get the valueOf of this number object.
      Number.prototype.valueOf = function () {
        console.log("I changed.");
        // return undefined.
      };
      console.log(+num); // NaN -> Internally, JS engine call valueOf for us, it gets undefined, and try to convert undefined to number type, which is NaN.
    </script>
  </body>
</html>
