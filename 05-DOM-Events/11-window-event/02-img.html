<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>02-img - load event</title>
  </head>
  <body>
    <!-- <img src="https://picsum.photos/200/300" alt="Random Image" id="img" /> -->

    <!-- wrong address -> causes error event. -->
    <!-- <img src="https://picsusam.photos/200/300" alt="Random Image" id="img" /> -->
    <script>
      //   var img = document.getElementById("img");
      //   img.addEventListener("load", function () {
      //     alert("Image loaded");
      //   });

      //   img.addEventListener("error", function () {
      //     alert("Image not loaded");
      //   });

      // Dynamic image loading
      function loadRandomImage() {
        var img = new Image(); // document.createElement("img");
        img.addEventListener(
          "load",
          function () {
            alert("Image loaded");
            document.body.appendChild(img);
          },
          {
            once: true,
          }
        );
        img.addEventListener(
          "error",
          function () {
            throw new Error("Image not loaded");
          },
          { once: true }
        );
        img.src = "https://picsum.photos/200/300"; // send request
        img.alt = "Random Image";
      }

      loadRandomImage();
    </script>
  </body>
</html>
