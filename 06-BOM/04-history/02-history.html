<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>02-History</title>
  </head>
  <body>
    Demo of history API
    <script>
      // Expectation of history.length
      // [ history.html ] -> [ history.html, demo1.html] -> [ history.html, demo1.html, (demo2.html) ]
      // 1 -> 2 -> 3
      // 3 -> 3 -> 3
      // 3 -> 3 -> 3

      // BUT
      // [ history.html ] -> [ history.html, demo1.html] -> [ history.html, demo1.html, (demo2.html) ]
      // 1 -> 2 -> 3
      // 3 -> 3 -> 3
      // [ history.html, demo1.html, (demo2.html) ] -> [ history.html, demo1.html] -> [ history.html, demo1.html, (demo2.html) ]
      // 3 -> 2 -> 3
      // history.assign() seems like removing the forward history and insert new entry.

      document.addEventListener("dblclick", function () {
        location.assign("./demo1.html");
      });
      document.addEventListener("click", function () {
        console.log(history.length);
      });
    </script>
  </body>
</html>
